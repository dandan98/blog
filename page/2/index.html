<!DOCTYPE html>



  

 

<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="闫丹丹的博客">
<meta property="og:url" content="https://github.com/dandan98/blog/page/2/index.html">
<meta property="og:site_name" content="闫丹丹的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="闫丹丹的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '闫丹丹'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/dandan98/blog/page/2/"/>





  <title>闫丹丹的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>
    <a href="https://github.com/dandan98/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">闫丹丹</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/blog/categories/项目经历" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />
            
            项目经历
          </a>
        </li>
      
        
        <li class="menu-item menu-item-info">
          <a href="/blog/info" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            基本信息
          </a>
        </li>
      
        
        <li class="menu-item menu-item-word">
          <a href="/blog/categories/随笔" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            随笔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-technology">
          <a href="/blog/categories/技术" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            技术
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/dandan98/blog/blog/2017/02/23/比较常用的正则表达式校验/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="闫丹丹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闫丹丹的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/02/23/比较常用的正则表达式校验/" itemprop="url">比较常用的正则表达式校验</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-23T10:04:49+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、校验数字的表达式</p>
<pre><code>1 数字：^[0-9]*$ 

2 n位的数字：^\d{n}$

3 至少n位的数字：^\d{n,}$ 

4 m-n位的数字：^\d{m,n}$ 

5 零和非零开头的数字：^(0|[1-9][0-9]*)$ 

6 非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]{1,2})?$ 

7 带1-2位小数的正数或负数：^(\-)?\d+(\.\d{1,2})?$ 

8 正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$ 

9 有两位小数的正实数：^[0-9]+(.[0-9]{2})?$

10 有1~3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$

11 非零的正整数：^[1-9]\d*$ 或 ^([1-9][0-9]*){1,3}$ 或 ^\+?[1-9][0-9]*$

12 非零的负整数：^\-[1-9][]0-9&quot;*$ 或 ^-[1-9]\d*$

13 非负整数：^\d+$ 或 ^[1-9]\d*|0$

14 非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$

15 非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$

16 非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$

17 正浮点数：^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$

18 负浮点数：^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$

19 浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$
</code></pre><p>二、校验字符的表达式</p>
<pre><code>1 汉字：^[\u4e00-\u9fa5]{0,}$ 

2 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$ 

3 长度为3-20的所有字符：^.{3,20}$ 

4 由26个英文字母组成的字符串：^[A-Za-z]+$ 

5 由26个大写英文字母组成的字符串：^[A-Z]+$ 

6 由26个小写英文字母组成的字符串：^[a-z]+$ 

7 由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$ 

8 由数字、26个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{3,20}$ 

9 中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$

10 中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]{2,20}$

11 可以输入含有^%&amp;&apos;,;=?$\&quot;等字符：[^%&amp;&apos;,;=?$\x22]+

12 禁止输入含有~的字符：[^~\x22]+
</code></pre><p>三、特殊需求表达式</p>
<pre><code>1 Email地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$ 

2 域名：[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.? 

3 InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$ 

4 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$ 

5 电话号码(&quot;XXX-XXXXXXX&quot;、&quot;XXXX-XXXXXXXX&quot;、&quot;XXX-XXXXXXX&quot;、&quot;XXX-XXXXXXXX&quot;、&quot;XXXXXXX&quot;和&quot;XXXXXXXX)：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$  

6 国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7} 

7 身份证号(15位、18位数字)：^\d{15}|\d{18}$ 

8 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$ 

9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$

10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$

11 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$

12 日期格式：^\d{4}-\d{1,2}-\d{1,2}

13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$

14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$

15 钱的输入格式：

16 1.有四种钱的表示形式我们可以接受:&quot;10000.00&quot; 和 &quot;10,000.00&quot;, 和没有 &quot;分&quot; 的 &quot;10000&quot; 和 &quot;10,000&quot;：^[1-9][0-9]*$

17 2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符&quot;0&quot;不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$

18 3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$

19 4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$

20 5.必须说明的是,小数点后面至少应该有1位数,所以&quot;10.&quot;是不通过的,但是 &quot;10&quot; 和 &quot;10.2&quot; 是通过的：^[0-9]+(.[0-9]{2})?$

21 6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$

22 7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$

23 8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$

24 备注：这就是最终结果了,别忘了&quot;+&quot;可以用&quot;*&quot;替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里

25 xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$

26 中文字符的正则表达式：[\u4e00-\u9fa5]

27 双字节字符：[^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))

28 空白行的正则表达式：\n\s*\r (可以用来删除空白行)

29 HTML标记的正则表达式：&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt; (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)

30 首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)

31 腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始)

32 中国邮政编码：[1-9]\d{5}(?!\d) (中国邮政编码为6位数字) 33 IP地址：\d+\.\d+\.\d+\.\d+ (提取IP地址时有用) 34 IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)) 
</code></pre><h6 id="20个正则表达式必知-能让你少写1-000行代码"><a href="#20个正则表达式必知-能让你少写1-000行代码" class="headerlink" title="20个正则表达式必知(能让你少写1,000行代码)"></a>20个正则表达式必知(能让你少写1,000行代码)</h6><p>正则表达式(regular expression)描述了一种字符串匹配的模式，可以用来检查一个串是否含有某种子串、将匹配的子串做替换或者从某个串中取出符合某个条件的子串等。</p>
<p>列目录时，　dir <em>.txt或ls <br> </em>.txt中的<em>.txt就不是一个正则表达式,因为这里</em>与正则式的*的含义是不同的。 <br></p>
<p>构造正则表达式的方法和创建数学表达式的方法一样。也就是用多种元字符与运算符可以将小的表达式结合在一起来创建更大的表达式。正则表达式的组件可以是单个的字符、字符集合、字符范围、字符间的选择或者所有这些组件的任意组合。 <br></p>
<p>正则表达式是由普通字符（例如字符 a 到 z）以及特殊字符（称为”元字符”）组成的文字模式。模式描述在搜索文本时要匹配的一个或多个字符串。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。 <br></p>
<p>正则表达式，一个十分古老而又强大的文本处理工具，仅仅用一段非常简短的表达式语句，便能够快速实现一个非常复杂的业务逻辑。熟练地掌握正则表达式的话，能够使你的开发效率得到极大的提升。</p>
<p>正则表达式经常被用于字段或任意字符串的校验，如下面这段校验基本日期格式的JavaScript代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var reg = /^(\\d&#123;1,4&#125;)(-|\\/)(\\d&#123;1,2&#125;)\\2(\\d&#123;1,2&#125;)$/;</span><br><span class="line">var r = fieldValue.match(reg);   </span><br><span class="line">if(r==null)alert(&apos;Date format error!&apos;);</span><br></pre></td></tr></table></figure>
<p>下面是在前端开发中经常使用到的20个正则表达式:</p>
<p>1 . 校验密码强度</p>
<p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>校验中文</li>
</ol>
<p>字符串仅能是中文。</p>
<pre><code>^[\\u4e00-\\u9fa5]{0,}$
</code></pre><ol start="3">
<li>由数字、26个英文字母或下划线组成的字符串</li>
</ol>
<pre><code>^\\w+$
</code></pre><ol start="4">
<li>校验E-Mail 地址</li>
</ol>
<p>同密码一样，下面是E-mail地址合规性的正则检查语句。</p>
<pre><code>[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?
</code></pre><ol start="5">
<li>校验身份证号码</li>
</ol>
<p>下面是身份证号码的正则校验。15 或 18位。</p>
<p>15位：<br>    ^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$<br> 18位：</p>
<pre><code>^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$
</code></pre><ol start="6">
<li>校验日期</li>
</ol>
<p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(?:(?!0000)[0-9]&#123;4&#125;-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]&#123;2&#125;(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$</span><br></pre></td></tr></table></figure></p>
<ol start="7">
<li>校验金额</li>
</ol>
<p>金额校验，精确到2位小数。</p>
<pre><code>^[0-9]+(.[0-9]{2})?$
</code></pre><ol start="8">
<li>校验手机号</li>
</ol>
<p>下面是国内 13、15、18开头的手机号正则表达式。</p>
<pre><code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$
</code></pre><ol start="9">
<li>判断IE的版本</li>
</ol>
<p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p>
<p>?<br>1<br>^.<em>MSIE <a href="?:\\.[0-9]+">5-8</a>?(?!.</em>Trident\/[5-9]\.0).*$</p>
<ol start="10">
<li>校验IP-v4地址</li>
</ol>
<p>IP4 正则语句。</p>
<pre><code>\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b
</code></pre><ol start="11">
<li>校验IP-v6地址</li>
</ol>
<p>IP6 正则语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))</span><br></pre></td></tr></table></figure>
<ol start="12">
<li>检查URL的前缀</li>
</ol>
<p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (!s.match(/^[a-zA-Z]+:\\/\\//))</span><br><span class="line">&#123;</span><br><span class="line"> s = &apos;http://&apos; + s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="13">
<li>提取URL链接</li>
</ol>
<p>下面的这个表达式可以筛选出一段文本中的URL。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(f|ht)&#123;1&#125;(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?</span><br></pre></td></tr></table></figure>
<ol start="14">
<li>文件路径及扩展名校验</li>
</ol>
<p>验证文件路径和扩展名</p>
<pre><code>^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$
</code></pre><ol start="15">
<li>提取Color Hex  Codes</li>
</ol>
<p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p>
<pre><code>\\#([a-fA-F]|[0-9]){3,6}
</code></pre><ol start="16">
<li>提取网页图片</li>
</ol>
<p>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p>
<pre><code>\\&lt; *[img][^\\&gt;]*[src] *= *[\\&quot;\\&apos;]{0,1}([^\\&quot;\\&apos;\\ &gt;]*)
</code></pre><ol start="17">
<li>提取页面超链接</li>
</ol>
<p>提取html中的超链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">18. 精炼CSS</span><br><span class="line"></span><br><span class="line">通过下面的表达式，可以搜索相同属性值的CSS，从而达到精炼代码的目的。</span><br></pre></td></tr></table></figure></p>
<p>^\s<em>[a-zA-Z\-]+\s</em>[:]{1}\s[a-zA-Z0-9\s.#]+[;]{1}<br><code>`</code></p>
<ol start="19">
<li>抽取注释</li>
</ol>
<p>如果你需要移除HMTL中的注释，可以使用如下的表达式。</p>
<pre><code>&lt;!--(.*?)--&gt; 
</code></pre><ol start="20">
<li>匹配HTML标签</li>
</ol>
<p>通过下面的表达式可以匹配出HTML中的标签。</p>
<pre><code>&lt;/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;.*?&quot;|&apos;.*?&apos;|[\\^&apos;&quot;&gt;\\s]+))?)+\\s*|\\s*)/?&gt;
</code></pre><p>真的很有用，掌握这20个正则表达式能让你少写1,000行代码，感兴趣的朋友参考下吧！</p>
<p>正则表达式的相关语法</p>
<p>下面是我找到的一张非常不错的正则表达式 Cheat Sheet，可以用来快速查找相关语法。</p>
<p><img src="https://files.jb51.net/file_images/article/201607/20160721121923.png" alt=""></p>
<p>学习正则表达式<br>我在网上看到了一篇相当不错的正则表达式快速学习指南，有兴趣继续深入学习的同学可以参考。</p>
<p>对于新手来说脚本之家小编推荐大家大家看这篇文章：<a href="http://www.jb51.net/tools/zhengze.html" target="_blank" rel="noopener">http://www.jb51.net/tools/zhengze.html</a></p>
<p><img src="http://files.jb51.net/file_images/article/201607/20160721121926.png" alt=""></p>
<p>正则表达式在线测试工具<br>regex101是一个非常不错的正则表达式在线测试工具，你可以直接在线测试你的正则表达式哦。</p>
<p><img src="http://files.jb51.net/file_images/article/201607/20160721121927.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/dandan98/blog/blog/2017/02/23/前端常见跨域解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="闫丹丹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闫丹丹的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/02/23/前端常见跨域解决/" itemprop="url">前端常见跨域解决</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-23T10:04:49+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="常见跨域场景"><a href="#常见跨域场景" class="headerlink" title="常见跨域场景"></a>常见跨域场景</h4><table>
<thead>
<tr>
<th style="text-align:center">url</th>
<th style="text-align:center">说明</th>
<th style="text-align:left">是否跨域</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://www.domain.com/a.js" target="_blank" rel="noopener">http://www.domain.com/a.js</a> <br><a href="http://www.domain.com/b.js" target="_blank" rel="noopener">http://www.domain.com/b.js</a></td>
<td style="text-align:center">同一域名不同文件路径</td>
<td style="text-align:left">否</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://www.domain.com:8080/a.js" target="_blank" rel="noopener">http://www.domain.com:8080/a.js</a> <br><a href="http://www.domain.com/b.js" target="_blank" rel="noopener">http://www.domain.com/b.js</a></td>
<td style="text-align:center">同一域名不同端口</td>
<td style="text-align:left">是</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://www.domain.com/a.js" target="_blank" rel="noopener">http://www.domain.com/a.js</a> <br><a href="https://www.domain.com/b.js" target="_blank" rel="noopener">https://www.domain.com/b.js</a></td>
<td style="text-align:center">同一域名不同协议</td>
<td style="text-align:left">是</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://www.domain.com/a.js" target="_blank" rel="noopener">http://www.domain.com/a.js</a> <br><a href="http://192.168.22.22/b.js" target="_blank" rel="noopener">http://192.168.22.22/b.js</a></td>
<td style="text-align:center">域名与域名对应的ip</td>
<td style="text-align:left">是</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://www.domain.com/a.js" target="_blank" rel="noopener">http://www.domain.com/a.js</a> <br><a href="http://demo.domain.com/a.js" target="_blank" rel="noopener">http://demo.domain.com/a.js</a></td>
<td style="text-align:center">主域名相同，子域名不同</td>
<td style="text-align:left">是</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://www.domain1.com/a.js" target="_blank" rel="noopener">http://www.domain1.com/a.js</a> <br><a href="http://www.domain2.com/b.js" target="_blank" rel="noopener">http://www.domain2.com/b.js</a></td>
<td style="text-align:center">不同域名</td>
<td style="text-align:left">是</td>
</tr>
</tbody>
</table>
<h6 id="跨域解决方案"><a href="#跨域解决方案" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h6><p>1、 通过jsonp跨域</p>
<p>2、 document.domain + iframe跨域</p>
<p>3、 location.hash + iframe</p>
<p>4、 window.name + iframe跨域</p>
<p>5、 postMessage跨域</p>
<p>6、 跨域资源共享（CORS）</p>
<p>7、 nginx代理跨域</p>
<p>8、 nodejs中间件代理跨域</p>
<p>9、 WebSocket协议跨域</p>
<p>10、后台代理（模拟httpclient请求）</p>
<p>这些解决方案也是从网上各位大佬的博客中整理的自己实际用到的仅有几个，那就先挑自己用到的开始说。 <br></p>
<h6 id="一、jsonp"><a href="#一、jsonp" class="headerlink" title="一、jsonp"></a>一、jsonp</h6><p>JSONP 是 JSON with padding（填充式 JSON 或参数式 JSON）的简写。</p>
<p>JSONP实现跨域请求的原理简单的说，就是动态创建<script>标签，然后利用<script>的src 不受同源策略约束来跨域获取数据。</p>
<p>JSONP 由两部分组成：回调函数和数据。回调函数是当响应到来时应该在页面中调用的函数。回调函数的名字一般是在请求中指定的。而数据就是传入回调函数中的 JSON 数据。</p>
<p>下面贴一段jquery代码：当前为<a href="http://www.domain2.com，需要请求www.domain1.com下的数据">www.domain2.com，需要请求www.domain1.com下的数据</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line">function handleResponse(response)&#123;   </span><br><span class="line"></span><br><span class="line"> // 对response数据进行操作代码</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$.ajax(&#123;</span><br><span class="line"></span><br><span class="line">async : true, url : &quot;https://www.domain1.com/a&quot;, </span><br><span class="line">type : &quot;GET&quot;, dataType : &quot;jsonp&quot;, // 返回的数据类型，设置为JSONP方式 jsonp : &apos;callback&apos;, //指定一个查询参数名称来覆盖默认的 jsonp 回调参数名 callback jsonpCallback: &apos;handleResponse&apos;, //设置回调函数名 </span><br><span class="line">data : &#123; q : &quot;javascript&quot;, count : 1 &#125;, </span><br><span class="line">success: function(response, status, xhr)&#123;</span><br><span class="line">    console.log(&apos;状态为：&apos; + status + &apos;,状态是：&apos; + xhr.statusText); console.log(response); </span><br><span class="line">    </span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>jsonp算是很流行的一种解决跨域的方式，但它也存在两点不足：</p>
<p>第一， JSONP 是从其他域中加载代码执行。如果其他域不安全，很可能会在响应中夹带一些恶意代码。因此在使用不是你自己运维的 Web 服务时，一定得保证它安全可靠。</p>
<p>其次，很难确定 JSONP 请求是否失败。</p>
<h6 id="二、-document-domain-iframe跨域"><a href="#二、-document-domain-iframe跨域" class="headerlink" title="二、 document.domain + iframe跨域"></a>二、 document.domain + iframe跨域</h6><p>此方案和简单但是仅限于主域名仙童，子域名不同的跨域场景；<br>实现原理：两个页面都通过js强制设置document.domain为基础主域，就实现了同域。</p>
<p>1.）父窗口：(<a href="http://www.domain.com/a.html">http://www.domain.com/a.html</a>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=&quot;iframe&quot; src=&quot;http://child.domain.com/b.html&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    document.domain = &apos;domain.com&apos;;</span><br><span class="line">    var user = &apos;admin&apos;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>2.）子窗口：(<a href="http://child.domain.com/b.html">http://child.domain.com/b.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    document.domain = &apos;domain.com&apos;;</span><br><span class="line">    // 获取父窗口中变量</span><br><span class="line">    alert(&apos;get js data from parent ---&gt; &apos; + window.parent.user);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h6 id="三、后台代理"><a href="#三、后台代理" class="headerlink" title="三、后台代理"></a>三、后台代理</h6><p>这种就很简单了，接收请求参数并在后台用httpclientx向目标地址发送请求，接收返回数据，可以根据需要对数据进行相应处理。例子就不举了。</p>
<h6 id="四、postMessage跨域"><a href="#四、postMessage跨域" class="headerlink" title="四、postMessage跨域"></a>四、postMessage跨域</h6><p>postMessage是HTML5中的API，且是为数不多可以跨域操作的window属性之一，它可用于解决以下方面的问题： <br><br>a.） 页面和其打开的新窗口的数据传递 <br><br>b.） 多窗口之间消息传递 <br><br>c.） 页面与嵌套的iframe消息传递 <br><br>d.） 上面三个场景的跨域数据传递 <br></p>
<p>两个窗口能通信的前提是，一个窗口以iframe的形式存在于另一个窗口，或者一个窗口是从另一个窗口通过window.open()或者超链接的形式打开的（同样可以用window.opener获取源窗口）；</p>
<h6 id="五、跨域资源共享（CORS）"><a href="#五、跨域资源共享（CORS）" class="headerlink" title="五、跨域资源共享（CORS）"></a>五、跨域资源共享（CORS）</h6><p>普通跨域请求：只服务端设置Access-Control-Allow-Origin即可，前端无须设置，若要带cookie请求：前后端都需要设置。</p>
<p>需注意的是：由于同源策略的限制，所读取的cookie为跨域请求接口所在域的cookie，而非当前页。</p>
<p> 1、前端jquery</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    ...</span><br><span class="line">   xhrFields: &#123;</span><br><span class="line">       withCredentials: true    // 前端设置是否带cookie</span><br><span class="line">   &#125;,</span><br><span class="line">   crossDomain: true,   // 会让请求头中包含跨域的额外信息，但不会含cookie</span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>2、后台代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HttpServletResponse response = (HttpServletResponse) res;    </span><br><span class="line">            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);  //&lt;span style=&quot;color:rgb(0,0,0);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:left;background-color:rgb(238,238,238);&quot;&gt;允许跨域访问的域，可以是一个域的列表，也可以是通配符&quot;*&quot;.*代表任何与都可以访问，有DDos攻击的风险&lt;/span&gt;  </span><br><span class="line">            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);    </span><br><span class="line">            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);    </span><br><span class="line">            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);</span><br></pre></td></tr></table></figure>
<h6 id="六、nginx代理跨域"><a href="#六、nginx代理跨域" class="headerlink" title="六、nginx代理跨域"></a>六、nginx代理跨域</h6><p>nginx一般来说可以用来做：静态页面的服务器、静态文件缓存服务器、网站反向代理、负载均衡服务器等等，此处便是用到了反向代理。</p>
<p>例子如下： <br><br>在<a href="http://www.domain1.com项目中需要请求www.domain2.com中的数据,nginx服务在www.domain1.com上">www.domain1.com项目中需要请求www.domain2.com中的数据,nginx服务在www.domain1.com上</a></p>
<p>1、配置nginx配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">server &#123;  </span><br><span class="line">        listen       80;  </span><br><span class="line">        server_name  www.domain1.com;  </span><br><span class="line">        access_log  logs/test.access.log;  </span><br><span class="line">        # 匹配以/apis/开头的请求  </span><br><span class="line">        location ^~ /apis/ &#123;  </span><br><span class="line">            proxy_pass http://www.domain2.com;  </span><br><span class="line">        &#125;  </span><br><span class="line">        location / &#123;  </span><br><span class="line">            root html/a;  </span><br><span class="line">            index index.html index.htm;  </span><br><span class="line">        &#125;  </span><br><span class="line">        #  </span><br><span class="line">        error_page   500 502 503 504  /50x.html;  </span><br><span class="line">        location = /50x.html &#123;  </span><br><span class="line">            root   html;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>2、<a href="http://www.domain1.com页面中前端代码修改。">www.domain1.com页面中前端代码修改。</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var url = &apos;http://www.domain2.com/api/msg?method=1&amp;para=2&apos;；</span><br><span class="line">var proxyurl ＝ &apos;apis?method=1&amp;para=2&apos;；</span><br><span class="line">//假如实际地址是 url，但用nginx转发后地址应为proxyurl，nginx匹配原则是apis开头的会被转发到www.domain2.com</span><br><span class="line"> $.ajax(&#123;</span><br><span class="line">type: &quot;GET&quot;,</span><br><span class="line">url:proxyurl,</span><br><span class="line">success: function(res)&#123;..&#125;,</span><br><span class="line">....</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>其他几个自己暂未接触过，下面贴出网上大佬们的说法后续再研究补充</p>
<h6 id="七、location-hash-iframe跨域"><a href="#七、location-hash-iframe跨域" class="headerlink" title="七、location.hash + iframe跨域"></a>七、location.hash + iframe跨域</h6><p>实现原理： a欲与b跨域相互通信，通过中间页c来实现。 <br> 三个页面，不同域之间利用iframe的location.hash传值，相同域之间直接js访问来通信。 <br></p>
<p>具体实现：A域：a.html -&gt; B域：b.html -&gt; <br> A域：c.html，a与b不同域只能通过hash值单向通信，b与c也不同域也只能单向通信，但c与a同域，所以c可通过parent.parent访问a页面所有对象。</p>
<p>1.）a.html：(<a href="http://www.domain1.com/a.html">http://www.domain1.com/a.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain2.com/b.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var iframe = document.getElementById(&apos;iframe&apos;);</span><br><span class="line"></span><br><span class="line">    // 向b.html传hash值</span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line">        iframe.src = iframe.src + &apos;#user=admin&apos;;</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">    </span><br><span class="line">    // 开放给同域c.html的回调方法</span><br><span class="line">    function onCallback(res) &#123;</span><br><span class="line">        alert(&apos;data from c.html ---&gt; &apos; + res);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.）b.html：(<a href="http://www.domain2.com/b.html">http://www.domain2.com/b.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe id=&quot;iframe&quot; src=&quot;http://www.domain1.com/c.html&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var iframe = document.getElementById(&apos;iframe&apos;);</span><br><span class="line"></span><br><span class="line">    // 监听a.html传来的hash值，再传给c.html</span><br><span class="line">    window.onhashchange = function () &#123;</span><br><span class="line">        iframe.src = iframe.src + location.hash;</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>3.）c.html：(<a href="http://www.domain1.com/c.html">http://www.domain1.com/c.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    // 监听b.html传来的hash值</span><br><span class="line">    window.onhashchange = function () &#123;</span><br><span class="line">        // 再通过操作同域a.html的js回调，将结果传回</span><br><span class="line">        window.parent.parent.onCallback(&apos;hello: &apos; + location.hash.replace(&apos;#user=&apos;, &apos;&apos;));</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h6 id="八、window-name-iframe跨域"><a href="#八、window-name-iframe跨域" class="headerlink" title="八、window.name + iframe跨域"></a>八、window.name + iframe跨域</h6><p>window.name属性的独特之处：name值在不同的页面（甚至不同域名）加载后依旧存在，并且可以支持非常长的 name 值（2MB）。</p>
<p>1.）a.html：(<a href="http://www.domain1.com/a.html">http://www.domain1.com/a.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">var proxy = function(url, callback) &#123;</span><br><span class="line">    var state = 0;</span><br><span class="line">    var iframe = document.createElement(&apos;iframe&apos;);</span><br><span class="line"></span><br><span class="line">    // 加载跨域页面</span><br><span class="line">    iframe.src = url;</span><br><span class="line"></span><br><span class="line">    // onload事件会触发2次，第1次加载跨域页，并留存数据于window.name</span><br><span class="line">    iframe.onload = function() &#123;</span><br><span class="line">        if (state === 1) &#123;</span><br><span class="line">            // 第2次onload(同域proxy页)成功后，读取同域window.name中数据</span><br><span class="line">            callback(iframe.contentWindow.name);</span><br><span class="line">            destoryFrame();</span><br><span class="line"></span><br><span class="line">        &#125; else if (state === 0) &#123;</span><br><span class="line">            // 第1次onload(跨域页)成功后，切换到同域代理页面</span><br><span class="line">            iframe.contentWindow.location = &apos;http://www.domain1.com/proxy.html&apos;;</span><br><span class="line">            state = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    document.body.appendChild(iframe);</span><br><span class="line"></span><br><span class="line">    // 获取数据以后销毁这个iframe，释放内存；这也保证了安全（不被其他域frame js访问）</span><br><span class="line">    function destoryFrame() &#123;</span><br><span class="line">        iframe.contentWindow.document.write(&apos;&apos;);</span><br><span class="line">        iframe.contentWindow.close();</span><br><span class="line">        document.body.removeChild(iframe);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 请求跨域b页面数据</span><br><span class="line">proxy(&apos;http://www.domain2.com/b.html&apos;, function(data)&#123;</span><br><span class="line">    alert(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>2.）proxy.html：(<a href="http://www.domain1.com/proxy...">http://www.domain1.com/proxy...</a>. <br><br>中间代理页，与a.html同域，内容为空即可。 <br></p>
<p>3.）b.html：(<a href="http://www.domain2.com/b.html">http://www.domain2.com/b.html</a>) <br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    window.name = &apos;This is domain2 data!&apos;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>总结：通过iframe的src属性由外域转向本地域，跨域数据即由iframe的window.name从外域传递到本地域。这个就巧妙地绕过了浏览器的跨域访问限制，但同时它又是安全操作</p>
<h6 id="九、-Nodejs中间件代理跨域"><a href="#九、-Nodejs中间件代理跨域" class="headerlink" title="九、 Nodejs中间件代理跨域"></a>九、 Nodejs中间件代理跨域</h6><p>node中间件实现跨域代理，原理大致与nginx相同，都是通过启一个代理服务器，实现数据的转发，也可以通过设置cookieDomainRewrite参数修改响应头中cookie中域名，实现当前域的cookie写入，方便接口登录认证。</p>
<p>1、 非vue框架的跨域（2次跨域） <br></p>
<p>利用node + express + http-proxy-middleware搭建一个proxy服务器。 <br></p>
<p>1.）前端代码示例： <br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var xhr = new XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">// 前端开关：浏览器是否读写cookie</span><br><span class="line">xhr.withCredentials = true;</span><br><span class="line"></span><br><span class="line">// 访问http-proxy-middleware代理服务器</span><br><span class="line">xhr.open(&apos;get&apos;, &apos;http://www.domain1.com:3000/login?user=admin&apos;, true);</span><br><span class="line">xhr.send();</span><br><span class="line">2.）中间件服务器：</span><br><span class="line"></span><br><span class="line">var express = require(&apos;express&apos;);</span><br><span class="line">var proxy = require(&apos;http-proxy-middleware&apos;);</span><br><span class="line">var app = express();</span><br><span class="line"></span><br><span class="line">app.use(&apos;/&apos;, proxy(&#123;</span><br><span class="line">    // 代理跨域目标接口</span><br><span class="line">    target: &apos;http://www.domain2.com:8080&apos;,</span><br><span class="line">    changeOrigin: true,</span><br><span class="line"></span><br><span class="line">    // 修改响应头信息，实现跨域并允许带cookie</span><br><span class="line">    onProxyRes: function(proxyRes, req, res) &#123;</span><br><span class="line">        res.header(&apos;Access-Control-Allow-Origin&apos;, &apos;http://www.domain1.com&apos;);</span><br><span class="line">        res.header(&apos;Access-Control-Allow-Credentials&apos;, &apos;true&apos;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // 修改响应信息中的cookie域名</span><br><span class="line">    cookieDomainRewrite: &apos;www.domain1.com&apos;  // 可以为false，表示不修改</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">app.listen(3000);</span><br><span class="line">console.log(&apos;Proxy server is listen at port 3000...&apos;);</span><br></pre></td></tr></table></figure></p>
<p>3.）Nodejs后台同（六：nginx） <br></p>
<p>2、 vue框架的跨域（1次跨域） <br></p>
<p>利用node + webpack + <br> webpack-dev-server代理接口跨域。在开发环境下，由于vue渲染服务和接口代理服务都是webpack-dev-server同一个，所以页面与代理接口之间不再跨域，无须设置headers跨域信息了。 <br></p>
<p>webpack.config.js部分配置： <br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &#123;&#125;,</span><br><span class="line">    module: &#123;&#125;,</span><br><span class="line">    ...</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        historyApiFallback: true,</span><br><span class="line">        proxy: [&#123;</span><br><span class="line">            context: &apos;/login&apos;,</span><br><span class="line">            target: &apos;http://www.domain2.com:8080&apos;,  // 代理跨域目标接口</span><br><span class="line">            changeOrigin: true,</span><br><span class="line">            secure: false,  // 当代理某些https服务报错时用</span><br><span class="line">            cookieDomainRewrite: &apos;www.domain1.com&apos;  // 可以为false，表示不修改</span><br><span class="line">        &#125;],</span><br><span class="line">        noInfo: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h6 id="十、-WebSocket协议跨域"><a href="#十、-WebSocket协议跨域" class="headerlink" title="十、 WebSocket协议跨域"></a>十、 WebSocket协议跨域</h6><p>WebSocket protocol是HTML5一种新的协议。它实现了浏览器与服务器全双工通信，同时允许跨域通讯，是server push技术的一种很好的实现。 <br><br>原生WebSocket API使用起来不太方便，我们使用Socket.io，它很好地封装了webSocket接口，提供了更简单、灵活的接口，也对不支持webSocket的浏览器提供了向下兼容。 <br></p>
<p>1.）前端代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;user input：&lt;input type=&quot;text&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./socket.io.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var socket = io(&apos;http://www.domain2.com:8080&apos;);</span><br><span class="line"></span><br><span class="line">// 连接成功处理</span><br><span class="line">socket.on(&apos;connect&apos;, function() &#123;</span><br><span class="line">    // 监听服务端消息</span><br><span class="line">    socket.on(&apos;message&apos;, function(msg) &#123;</span><br><span class="line">        console.log(&apos;data from server: ---&gt; &apos; + msg); </span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // 监听服务端关闭</span><br><span class="line">    socket.on(&apos;disconnect&apos;, function() &#123; </span><br><span class="line">        console.log(&apos;Server socket has closed.&apos;); </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">document.getElementsByTagName(&apos;input&apos;)[0].onblur = function() &#123;</span><br><span class="line">    socket.send(this.value);</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.）Nodejs socket后台：<br><code>`</code></p>
<p>var http = require(‘http’);<br>var socket = require(‘socket.io’);</p>
<p>// 启http服务<br>var server = http.createServer(function(req, res) {<br>    res.writeHead(200, {<br>        ‘Content-type’: ‘text/html’<br>    });<br>    res.end();<br>});</p>
<p>server.listen(‘8080’);<br>console.log(‘Server is running at port 8080…’);</p>
<p>// 监听socket连接<br>socket.listen(server).on(‘connection’, function(client) {<br>    // 接收信息<br>    client.on(‘message’, function(msg) {<br>        client.send(‘hello：’ + msg);<br>        console.log(‘data from client: —&gt; ‘ + msg);<br>    });</p>
<pre><code>// 断开处理
client.on(&apos;disconnect&apos;, function() {
    console.log(&apos;Client socket has closed.&apos;); 
});
</code></pre><p>});</p>
</script></p>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/dandan98/blog/blog/2017/02/23/判断浏览器版本/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="闫丹丹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闫丹丹的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/02/23/判断浏览器版本/" itemprop="url">判断浏览器版本</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-23T10:04:49+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JavaScript是前端开发的主要语言，我们可以通过编写JavaScript程序来判断浏览器的类型及版本。 <br><br>JavaScript判断浏览器类型一般有两种办法 <br><br>一种是根据各种浏览器独有的属性来分辨， <br><br>另一种是通过分析浏览器的userAgent属性来判断的。 <br><br>在许多情况下，值判断出浏览器类型之后，还需判断浏览器版本才能处理兼容性问题，而判断浏览器的版本一般只能通过分析浏览器的userAgent才能知道。 <br></p>
<p><code>`</code></p>
<script type="text/javascript">
        /**
         * 获取浏览器类型以及版本号
         * 支持国产浏览器:猎豹浏览器、搜狗浏览器、傲游浏览器、360极速浏览器、360安全浏览器、
         * QQ浏览器、百度浏览器等.
         * 支持国外浏览器:IE,Firefox,Chrome,safari,Opera等.
         * 使用方法:
         * 获取浏览器版本:Browser.client.version
         * 获取浏览器名称(外壳):Browser.client.name
         * @author:xuzengqiang
         * @since :2015-1-27 10:26:11
         **/
        var Browser = Browser || (function(window) {
            var document = window.document,
                navigator = window.navigator,
                agent = navigator.userAgent.toLowerCase(),
                //IE8+支持.返回浏览器渲染当前文档所用的模式
                //IE6,IE7:undefined.IE8:8(兼容模式返回7).IE9:9(兼容模式返回7||8)
                //IE10:10(兼容模式7||8||9)
                IEMode = document.documentMode,
                //chorme
                chrome = window.chrome || false,
                System = {
                    //user-agent
                    agent: agent,
                    //是否为IE
                    isIE: /msie/.test(agent),
                    //Gecko内核
                    isGecko: agent.indexOf("gecko") > 0 && agent.indexOf("like gecko") < 0,
                    //webkit内核
                    isWebkit: agent.indexOf("webkit") > 0,
                    //是否为标准模式
                    isStrict: document.compatMode === "CSS1Compat",
                    //是否支持subtitle
                    supportSubTitle: function() {
                        return "track" in document.createElement("track");
                    },
                    //是否支持scoped
                    supportScope: function() {
                        return "scoped" in document.createElement("style");
                    },
                    //获取IE的版本号
                    ieVersion: function() {
                        try {
                            return agent.match(/msie ([\d.]+)/)[1] || 0;
                        } catch (e) {
                            console.log("error");
                            return IEMode;
                        }
                    },
                    //Opera版本号
                    operaVersion: function() {
                        try {
                            if (window.opera) {
                                return agent.match(/opera.([\d.]+)/)[1];
                            } else if (agent.indexOf("opr") > 0) {
                                return agent.match(/opr\/([\d.]+)/)[1];
                            }
                        } catch (e) {
                            console.log("error");
                            return 0;
                        }
                    },
                    //描述:version过滤.如31.0.252.152 只保留31.0
                    versionFilter: function() {
                        if (arguments.length === 1 && typeof arguments[0] === "string") {
                            var version = arguments[0];
                            start = version.indexOf(".");
                            if (start > 0) {
                                end = version.indexOf(".", start + 1);
                                if (end !== -1) {
                                    return version.substr(0, end);
                                }
                            }
                            return version;
                        } else if (arguments.length === 1) {
                            return arguments[0];
                        }
                        return 0;
                    }
                };

            try {
                //浏览器类型(IE、Opera、Chrome、Safari、Firefox)
                System.type = System.isIE ? "IE" :
                    window.opera || (agent.indexOf("opr") > 0) ? "Opera" :
                    (agent.indexOf("chrome") > 0) ? "Chrome" :
                    //safari也提供了专门的判定方式
                    window.openDatabase ? "Safari" :
                    (agent.indexOf("firefox") > 0) ? "Firefox" :
                    'unknow';

                //版本号 
                System.version = (System.type === "IE") ? System.ieVersion() :
                    (System.type === "Firefox") ? agent.match(/firefox\/([\d.]+)/)[1] :
                    (System.type === "Chrome") ? agent.match(/chrome\/([\d.]+)/)[1] :
                    (System.type === "Opera") ? System.operaVersion() :
                    (System.type === "Safari") ? agent.match(/version\/([\d.]+)/)[1] :
                    "0";

                //浏览器外壳
                System.shell = function() {
                    //遨游浏览器
                    if (agent.indexOf("maxthon") > 0) {
                        System.version = agent.match(/maxthon\/([\d.]+)/)[1] || System.version;
                        return "傲游浏览器";
                    }
                    //QQ浏览器
                    if (agent.indexOf("qqbrowser") > 0) {
                        System.version = agent.match(/qqbrowser\/([\d.]+)/)[1] || System.version;
                        return "QQ浏览器";
                    }

                    //搜狗浏览器
                    if (agent.indexOf("se 2.x") > 0) {
                        return '搜狗浏览器';
                    }

                    //Chrome:也可以使用window.chrome && window.chrome.webstore判断
                    if (chrome && System.type !== "Opera") {
                        var external = window.external,
                            clientInfo = window.clientInformation,
                            //客户端语言:zh-cn,zh.360下面会返回undefined
                            clientLanguage = clientInfo.languages;

                        //猎豹浏览器:或者agent.indexOf("lbbrowser")>0
                        if (external && 'LiebaoGetVersion' in external) {
                            return '猎豹浏览器';
                        }
                        //百度浏览器
                        if (agent.indexOf("bidubrowser") > 0) {
                            System.version = agent.match(/bidubrowser\/([\d.]+)/)[1] ||
                                agent.match(/chrome\/([\d.]+)/)[1];
                            return "百度浏览器";
                        }
                        //360极速浏览器和360安全浏览器
                        if (System.supportSubTitle() && typeof clientLanguage === "undefined") {
                            //object.key()返回一个数组.包含可枚举属性和方法名称
                            var storeKeyLen = Object.keys(chrome.webstore).length,
                                v8Locale = "v8Locale" in window;
                            return storeKeyLen > 1 ? '360极速浏览器' : '360安全浏览器';
                        }
                        return "Chrome";
                    }
                    return System.type;
                };

                //浏览器名称(如果是壳浏览器,则返回壳名称)
                System.name = System.shell();
                //对版本号进行过滤过处理
                System.version = System.versionFilter(System.version);

            } catch (e) {
                console.log("error");
            }
            return {
                client: System
            };

        })(window);
        alert(Browser.client.name + " " + Browser.client.version);
    </script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/dandan98/blog/blog/2016/12/23/layui下的图片轮播图效果代码收藏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="闫丹丹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闫丹丹的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/12/23/layui下的图片轮播图效果代码收藏/" itemprop="url">layui下的图片轮播图效果代码收藏</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-23T10:44:49+08:00">
                2016-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>以下展示在layui table表格列表中展示图片集，并使用layui图片轮播效果。 <br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">layui.use([&apos;table&apos;, &apos;tree&apos;, &apos;layer&apos;,&apos;jquery&apos;], function () &#123;</span><br><span class="line"></span><br><span class="line">//改变宽高</span><br><span class="line">        var h = document.body.clientHeight&amp;&amp;document.documentElement.clientHeight - 80;//窗口高度</span><br><span class="line">         var w = document.body.clientWidth&amp;&amp;document.documentElement.clientWidth - 10;//窗口高度</span><br><span class="line">         //监听改变窗口大小</span><br><span class="line">         window.onresize = function()&#123;</span><br><span class="line">            h = document.body.clientHeight&amp;&amp;document.documentElement.clientHeight - 80;//窗口高度</span><br><span class="line">            w = document.body.clientWidth&amp;&amp;document.documentElement.clientWidth - 10;//窗口高度</span><br><span class="line">            table.reload(&apos;idTest&apos;,&#123;height:h,width: w&#125;);//刷新数据表格</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">//方法级渲染</span><br><span class="line">        window.demoTable = table.render(&#123;</span><br><span class="line">            elem: &apos;#idTest&apos;</span><br><span class="line">            ,id:&apos;idTest&apos;</span><br><span class="line">            ,url : &apos;&lt;%=path%&gt;/activity/getOrglifeListByOrgCode&apos;</span><br><span class="line">            ,width : w</span><br><span class="line">            ,height : h</span><br><span class="line">            , cols: [[ //标题栏</span><br><span class="line">                 &#123;checkbox: true, LAY_CHECKED: false, filter: &apos;test&apos;&#125;</span><br><span class="line">               // , &#123;field: &apos;ID&apos;, title: &apos;序号&apos;, width: 150, sort: true, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;PO_NAME&apos;, title: &apos;组织名称&apos;, width: 250, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;SUBJECT&apos;, title: &apos;活动主题&apos;, width: 120, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;PO_LIFE_TYPE_NAME&apos;, title: &apos;生活类型&apos;, width: 180, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;POLIFETIME&apos;, title: &apos;活动时间&apos;, width: 180, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;VENUE&apos;, title: &apos;活动地点&apos;, width: 100, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;PHOTO_UUID&apos;, title: &apos;图片集&apos;, width: 200, align: &apos;center&apos;,templet:&apos;#imgs&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;ISOPEN&apos;, title: &apos;是否开放&apos;, width: 120, align: &apos;center&apos;,templet:&apos;#isopen&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;PM_NAME&apos;, title: &apos;主持人&apos;, width: 150, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;partake&apos;, title: &apos;参与人&apos;, width: 150, align: &apos;center&apos;,templet:&apos;#join&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;CREATETIME&apos;, title: &apos;记录时间&apos;, width: 220, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;field: &apos;PM_NUM&apos;, title: &apos;参与数&apos;, width: 85, align: &apos;center&apos;&#125;</span><br><span class="line">                , &#123;title: &apos;操作&apos;, width: 130, align: &apos;center&apos;, toolbar: &apos;#barDemo&apos;&#125;</span><br><span class="line">            ]]</span><br><span class="line">            , page: true //是否显示分页</span><br><span class="line">            ,limits : [ 10, 20,50, 100 ]</span><br><span class="line">            ,limit : 20</span><br><span class="line">            ,done:function(res,curr,count)&#123;</span><br><span class="line">                $(&apos;table tr&apos;).on(&apos;click&apos;,function()&#123;</span><br><span class="line">                     $(&apos;table tr&apos;).css(&apos;background&apos;,&apos;&apos;);</span><br><span class="line">                     $(this).css(&apos;background&apos;,&apos;&lt;%=PropKit.use(&quot;config.properties&quot;).get(&quot;table_color&quot;)%&gt;&apos;);</span><br><span class="line">                 &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中查看图片集使用的是Layui templet，id号为imgs，如下所示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/html&quot; id=&quot;imgs&quot;&gt;</span><br><span class="line">       &lt;a class=&quot;openimg&quot; href=&apos;javascript:;&apos; onclick=&apos;showImages(&quot;&#123;&#123;d.PHOTO_UUID&#125;&#125;&quot;)&apos; lay-event=&quot;img&quot;&gt;查看图片集&lt;/a&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>在列表显示中为超链接，点击事件调用了showImages方法。如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//图片弹窗</span><br><span class="line">    function showImages(uuid)&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            cache:false,</span><br><span class="line">            type:&apos;POST&apos;,</span><br><span class="line">            dataType:&quot;json&quot;,</span><br><span class="line">            url:&apos;&lt;%=path%&gt;/activity/showMediaFiles&apos;,</span><br><span class="line">            data:&#123;&quot;uuid&quot;:uuid&#125;,</span><br><span class="line">            error: function () &#123;</span><br><span class="line">                alert(&apos;请求失败&apos;);</span><br><span class="line">            &#125;,</span><br><span class="line">            success:function(res)&#123;</span><br><span class="line">                console.log(res)</span><br><span class="line">                layer.photos(&#123;</span><br><span class="line">                    photos: res</span><br><span class="line">                    ,anim: 5 //0-6的选择，指定弹出图片动画类型，默认随机（请注意，3.0之前的版本用shift参数）</span><br><span class="line">                  &#125;); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>根据官方的说法，使用layer.photos插件，数据组织有一定的标准性，如下是官网的数据格式实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;title&quot;: &quot;&quot;, //相册标题</span><br><span class="line">  &quot;id&quot;: 123, //相册id</span><br><span class="line">  &quot;start&quot;: 0, //初始显示的图片序号，默认0</span><br><span class="line">  &quot;data&quot;: [   //相册包含的图片，数组格式</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;alt&quot;: &quot;图片名&quot;,</span><br><span class="line">      &quot;pid&quot;: 666, //图片id</span><br><span class="line">      &quot;src&quot;: &quot;&quot;, //原图地址</span><br><span class="line">      &quot;thumb&quot;: &quot;&quot; //缩略图地址</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">map.put(&quot;UUID&quot;, uuid);</span><br><span class="line">        String res_showMediaFiles = sendPostRequest(&quot;MgrActivityApi&quot;, orgCode, &quot;showMediaFiles&quot;, &quot;857&quot;, map);</span><br><span class="line">        JSONObject jo_showMediaFiles = JSONObject.fromObject(res_showMediaFiles);</span><br><span class="line"></span><br><span class="line">        JSONArray arr_photoes = new JSONArray();</span><br><span class="line">        JSONObject obj_photo = new JSONObject();</span><br><span class="line">        if(jo_showMediaFiles.getInt(&quot;code&quot;)==0)&#123;</span><br><span class="line">            JSONArray photoes = jo_showMediaFiles.getJSONArray(&quot;data&quot;);</span><br><span class="line">            for(int i =0 ;i&lt;photoes.size();i++)&#123;</span><br><span class="line">                JSONObject photo = photoes.getJSONObject(i);</span><br><span class="line">                obj_photo.put(&quot;alt&quot;, &quot;图片名&quot;);</span><br><span class="line">                obj_photo.put(&quot;pid&quot;, 666);</span><br><span class="line">                obj_photo.put(&quot;src&quot;, PropKit.use(&quot;config.properties&quot;).get(&quot;url&quot;)+getSessionAttr(&quot;REGION_CODE&quot;)+&quot;/&quot;+photo.getString(&quot;FILE_PATH&quot;));</span><br><span class="line">                obj_photo.put(&quot;thumb&quot;, &quot;&quot;);</span><br><span class="line">                arr_photoes.add(obj_photo);// 追加到JSONArray中</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String,Object&gt; dataMap = new HashMap&lt;String,Object&gt;();</span><br><span class="line">        // 组装layer.photo需要的json格式数据</span><br><span class="line">        dataMap.put(&quot;title&quot;, &quot;&quot;);</span><br><span class="line">        dataMap.put(&quot;id&quot;, 123);</span><br><span class="line">        dataMap.put(&quot;start&quot;, 0);</span><br><span class="line">        dataMap.put(&quot;data&quot;, arr_photoes);</span><br><span class="line">        System.out.println(JsonKit.toJson(dataMap));</span><br><span class="line">        renderJson(JsonKit.toJson(dataMap));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>最终显示效果如下：</p>
<p><img src="https://img-blog.csdn.net/20180424160209239?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1YW5nYmFva2FuZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<p>点击其中的一列，弹出图片轮播的效果，多张图片可以左右滑动。</p>
<p><img src="https://img-blog.csdn.net/20180424160258490?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1YW5nYmFva2FuZw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/dandan98/blog/blog/2016/07/23/AJAX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="闫丹丹">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闫丹丹的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2016/07/23/AJAX/" itemprop="url">AJAX</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-23T10:44:49+08:00">
                2016-07-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>AJAX<br>Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）。<br>AJAX 不是新的编程语言，而是一种使用现有标准的新方法。<br>AJAX 是与服务器交换数据并更新部分网页的艺术，在不重新加载整个页面的情况下。AJAX可以更新部分页面，而不需要整个刷新，从而提升用户体验。</p>
<p>XMLHttpRequest 对象<br>是Ajax的核心，所有现代浏览器均支持 XMLHttpRequest 对象（IE5 和 IE6 使用 ActiveXObject）。<br>XMLHttpRequest 用于在后台与服务器交换数据。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<p>创建方法：<br>var xhr = new XMLHttpRequest();</p>
<p>常用方法：<br>open(GET/POST,URL地址,true/false) 打开连接<br>true和false代表异步或同步。<br>同步表示需要等待服务器响应后才能执行后面的代码<br>异步表示不需要等待服务器响应，响应后会进行通知<br>推荐使用异步方式。<br>send(String) 发送请求<br>如果是POST方法需要填写请求参数，如：name=zhangage=20<br>如果是Get方法参数可以不写<br>onreadystatechange事件回调，监听连接状态改变<br>用法：<br>onreadystatechange = function(){…};<br>常用属性：<br>readyState 连接状态<br>ajax共有5种状态：<br>状态<br>名称<br>描述<br>0<br>Uninitialized<br>初始化状态。XMLHttpRequest 对象已创建或已被 abort() 方法重置。<br>1<br>Open<br>open() 方法已调用，但是 send() 方法未调用。请求还没有被发送。<br>2<br>Sent<br>Send() 方法已调用，HTTP 请求已发送到 Web 服务器。未接收到响应。<br>3<br>Receiving<br>所有响应头部都已经接收到。响应体开始接收但未完成。<br>4<br>Loaded<br>HTTP 响应已经完全接收。<br>responseText 服务器响应文本内容<br>status 响应码、如：200、404、500等</p>
<p>案例：使用ajax和Servlet进行交互<br>html<br>head<br>meta http-equiv=Content-Type content=text/html; charset=UTF-8<br>titleInsert title here/title<br>script type=text/javascript src=js/jquery-3.3.1.js/script<br>script type=text/javascript<br>$(function(){<br>$(#div1).click(function(){<br>//创建XMLHttpRequest对象<br>var xhr = new XMLHttpRequest();<br>//打开连接<br>xhr.open(GET,ajax.do?name=张三,true);<br>//发送请求<br>xhr.send(null);<br>//监听状态改变事件<br>xhr.onreadystatechange = function(){<br>console.log(状态：+xhr.readyState);<br>if(xhr.readyState == 4 xhr.status == 200){<br>//更新页面内容<br>$(#div1).text(xhr.responseText);<br>}<br>};<br>});<br>});<br>/script<br>/head<br>body<br>div id=div1点击我连接服务器/div<br>/body<br>/html</p>
<p>@WebServlet(/ajax.do)<br>public class AjaxServlet extends HttpServlet{</p>
<p>@Override<br>protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {<br>resp.setContentType(text/html;charset=UTF-8);<br>//处理请求的中文乱码<br>String name = req.getParameter(name);<br>name = new String(name.getBytes(ISO-8859-1),UTF-8);<br>//给ajax客户端发送数据<br>resp.getWriter().println(你好！！+name+,我是服务器！！);<br>}<br>}</p>
<p>JQuery中的Ajax函数：<br>除了原生的Ajax代码外，JQuery框架也封装了几个ajax函数，让我们能更容易地与服务器交互。<br>$.ajax<br>常用参数：<br>type 请求方法GET、POST<br>url 服务器地址（必须）<br>data 请求参数<br>async 是否异步true，false<br>success 正常情况调用函数<br>error 错误情况调用函数<br>示例：<br>$.ajax({url:’check.do’,data:{tel:‘13001112222’},async:true,<br>success:function(data){<br>alert(‘服务器返回内容’+data);<br>},<br>error:function(){<br>alert(‘服务器操作出现错误’);<br>}<br>});</p>
<p>$.post函数<br>以post方式和服务器交互<br>$.post(URL地址,{参数名:值},function(data){<br>回调代码<br>});<br>案例：<br>//使用jquery的post方法<br>function post(){<br>$.post(ajax.do,{name:’李四’},function(data){<br>$(#div1).text(data);<br>});<br>}</p>
<p>$.get 函数<br>以get方式和服务器交互<br>$.get(URL地址?参数,function(data){<br>回调代码<br>});<br>案例：<br>//使用jquery的get方法<br>function get(){<br>$.get(ajax.do?name=赵六,function(data){<br>$(#div1).text(data);<br>});<br>}</p>
<p>load函数<br>使用load方法，将ajax加载的内容直接插入到标签中<br>案例：<br>$(function(){<br>$(#div1).click(function(){<br>//post();<br>//get();<br>$(#div1).load(ajax.do?name=马九);<br>});<br>});</p>
<p>应用场景：<br>用户注册时检查用户名是否存在<br>需求：用户注册时，填写手机号后，当输入框失去焦点时，对手机号进行服务器验证后在手机号输入框后面显示”用户名已存在或用户名可以使用;<br>思路：<br>1、在input的onblur事件中进行验证<br>2、通过ajax发送手机号给后台Servlet<br>3、Servlet对手机号进行数据库查询，返回是否存在的文字给ajax<br>4、ajax收到返回文字后，显示到标签上</p>
<p>总结：Ajax能够让浏览器和服务器进行交互，并且在不刷新页面的情况下对网页内容进行更新，大大提高了用户体验，通过Ajax技术能够构建交互性极强的Web应用程序。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/blog/images/photo.jpg"
                alt="闫丹丹" />
            
              <p class="site-author-name" itemprop="name">闫丹丹</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/blog/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">闫丹丹 E-mail: yandandan0111@163.com</span>

  
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>








        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
<script src="/js/src/love.js" type="text/javascript" charset="utf-8" async defer></script>
